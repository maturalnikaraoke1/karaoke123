<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="admin">
  <h1>ğŸ›  Admin Panel</h1>

  <ul id="playlist"></ul>

  <button onclick="startPlaylist()">â–¶ï¸ Pokreni playlistu</button>
  <button onclick="openAudience()">ğŸ‘¥ Publika ekran</button>

  <div id="player"></div>
</div>

<script src="app.js"></script>

<script>
// YouTube IFrame API
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
document.head.appendChild(tag);

let player;

function onYouTubeIframeAPIReady() {
  // Player Ä‡e se inicijalizirati kad pozovemo playCurrent()
}

function playVideoById(videoId) {
  if (player) player.destroy();

  player = new YT.Player('player', {
    videoId: videoId,
    playerVars: {
      autoplay: 1,  // autoplay
      mute: 1,      // mute za browser autoplay pravila
      controls: 1,
      enablejsapi: 1
    },
    events: {
      onReady: function(event) {
        event.target.playVideo();
      },
      onStateChange: function(event) {
        if (event.data === YT.PlayerState.ENDED) {
          currentIndex++;
          playCurrent();
        }
      }
    }
  });
}
</script>

</body>
</html>
