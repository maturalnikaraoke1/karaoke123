

<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8">
  <title>Karaoke Live</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="audience">

<h1 id="now">ğŸ¤ Sada pjeva:</h1>
<h2 id="next">â­ SljedeÄ‡i:</h2>

<div id="audiencePlayer"></div>

<script src="https://www.youtube.com/iframe_api"></script>
<script src="app.js"></script>

<script>
// Server/player logic
let audiencePlayer;

function onYouTubeIframeAPIReady() {
  const current = JSON.parse(localStorage.getItem("current"));
  if (!current) return;

  audiencePlayer = new YT.Player('audiencePlayer', {
    videoId: current.videoId,
    playerVars: {
      autoplay: 1,
      mute: 0,
      controls: 0,
      origin: location.origin
    }
  });
}

function updateNowNext() {
  const now = JSON.parse(localStorage.getItem("current"));
  const next = JSON.parse(localStorage.getItem("next"));

  if (now) {
    document.getElementById("now").innerText =
      "ğŸ¤ Sada pjeva: " + now.name + " â€“ " + now.song;
  }
  if (next) {
    document.getElementById("next").innerText =
      "â­ SljedeÄ‡i: " + next.name + " â€“ " + next.song;
  }
}

window.onload = () => {
  updateNowNext();
};
</script>

</body>
</html>
